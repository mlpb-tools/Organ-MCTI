<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Livret de Présentation - Pôle MCCTI</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Fonction pour la gestion des requêtes avec backoff exponentiel
        async function exponentialBackoffFetch(url, options, retries = 5, delay = 1000) {
            try {
                const response = await fetch(url, options);
                if (!response.ok) {
                    if (response.status === 429 && retries > 0) {
                        console.warn(`Limite de débit atteinte, nouvelle tentative dans ${delay / 1000}s...`);
                        await new Promise(res => setTimeout(res, delay));
                        return exponentialBackoffFetch(url, options, retries - 1, delay * 2);
                    }
                    throw new Error(`Erreur HTTP! statut: ${response.status}`);
                }
                return response;
            } catch (error) {
                if (retries > 0) {
                    console.warn(`Échec de la récupération, nouvelle tentative dans ${delay / 1000}s...`, error);
                    await new Promise(res => setTimeout(res, delay));
                    return exponentialBackoffFetch(url, options, retries - 1, delay * 2);
                }
                throw error;
            }
        }

        // Données structurées de l'organisation
        const poleData = {
            mission: "Favoriser l'autonomie, l'engagement et la mobilité des jeunes en structurant des parcours d'accompagnement intégrant les dimensions de citoyenneté, de transition écologique, d'ouverture européenne et d'innovation pédagogique.",
            personnel: [
                {
                    id: 'amandine',
                    name: 'Amandine',
                    role: 'Responsable de secteur',
                    team: 'Pilotage & Coordination',
                    cej: false,
                    details: {
                        etp: '100%',
                        projets: 'Tous projets (pilotage transversal)',
                        missionsPrincipales: [
                            'Pilotage stratégique, institutionnel et budgétaire',
                            'Management de l\'équipe de coordination',
                            'Représentation dans les instances stratégiques',
                        ],
                        missionsSecondaires: [
                            'Négociation des partenariats structurants',
                            'Reporting auprès des financeurs',
                            'Animation des réunions de pôle mensuelles',
                        ],
                        activitesConcretes: [
                            'Définition des orientations annuelles',
                            'Pilotage des budgets projets',
                            'Entretiens annuels équipe',
                            'Comités de pilotage partenaires',
                        ],
                        outils: [
                            'Tableaux de bord budgétaires',
                            'Référentiels qualité Mission Locale',
                            'Outils de management d\'équipe',
                        ],
                        modalites: [
                            'Management direct équipe coordination',
                            'Représentation institutionnelle',
                            'Pilotage à distance projets territoriaux',
                        ],
                        partenaires: [
                            'Direction Mission Locale',
                            'Financeurs (Région, Europe, État)',
                            'Partenaires institutionnels',
                        ],
                        objectifs: [
                            'Consolider le financement des 5 projets structurants',
                            'Développer 2 nouveaux partenariats européens',
                            'Augmenter de 20% l\'impact jeunes accompagnés',
                        ],
                    },
                },
                {
                    id: 'mathieu',
                    name: 'Mathieu',
                    role: 'Coordinateur Innovation, Outillage & Professionnalisation',
                    team: 'Pilotage & Coordination',
                    cej: false,
                    details: {
                        etp: '100%',
                        projets: 'ROAMING (chef de file), TAKE OFF PRO (coordinateur), LS4YOU (appui technique)',
                        missionsPrincipales: [
                            'Coordination déploiement projets innovants',
                            'Outillage et professionnalisation des équipes',
                            'Pilotage expérimentations pédagogiques',
                        ],
                        missionsSecondaires: [
                            'Animation communauté relais ambassadeurs',
                            'Veille innovations pédagogiques',
                            'Co-encadrement volontaires SC',
                        ],
                        activitesConcretes: [
                            'ROAMING : Pilotage tests outils VR, coordination plateforme nationale',
                            'TAKE OFF PRO : Animation consortium, suivi 60 parcours/an',
                            'LS4YOU : Expertise ingénierie plateforme numérique',
                            'Transversal : Conception Book Mobilité, capsules vidéo, webinaires',
                        ],
                        outils: [
                            'Plateforme collaborative Teams/SharePoint',
                            'Outils de conception pédagogique',
                            'Référentiels européens (Youthpass, Europass)',
                        ],
                        modalites: [
                            'Animation à distance et présentiel',
                            'Ingénierie pédagogique collaborative',
                            'Accompagnement changement',
                        ],
                        partenaires: [
                            'Consortium européen ROAMING',
                            'Réseau Mission Locales 64',
                            'Partenaires technologiques',
                        ],
                        objectifs: [
                            'Finaliser plateforme ROAMING et former 50 conseillers',
                            'Coordonner 60 mobilités TAKE OFF PRO',
                            'Produire 12 webinaires formation interne',
                        ],
                    },
                },
                {
                    id: 'alain',
                    name: 'Alain',
                    role: 'Référent Engagement Citoyen',
                    team: 'Pilotage & Coordination',
                    cej: false,
                    tier: undefined,
                    focus: 'Référent Engagement Citoyen, ROAMING, LS4YOU, Je me déplace',
                    details: {
                        etp: '100%',
                        projets: 'LS4YOU (chef de file), TAKE OFF PRO (animation), Service Civique (coordination)',
                        missionsPrincipales: [
                            'Développement engagement et participation citoyenne',
                            'Coordination actions transition écologique',
                            'Animation Service Civique',
                        ],
                        missionsSecondaires: [
                            'Accompagnement projets collectifs jeunes',
                            'Lutte contre les discriminations',
                            'Formation citoyenne',
                        ],
                        activitesConcretes: [
                            'LS4YOU : Pilotage boîte à outils compétences de vie, formation formateurs',
                            'TAKE OFF PRO : Animation information collective, accompagnement départs',
                            'Service Civique : Sourcing missions, formations civiques',
                            'Engagement : Cartographie associations, montage projets collectifs',
                        ],
                        outils: [
                            'Boîte à outils LS4YOU',
                            'Référentiel Service Civique',
                            'Méthodologies projets collectifs',
                        ],
                        modalites: [
                            'Animation ateliers collectifs',
                            'Accompagnement individuel projets',
                            'Formation et sensibilisation',
                        ],
                        partenaires: [
                            'Associations locales',
                            'Acteurs transition écologique',
                            'Structures Service Civique',
                        ],
                        objectifs: [
                            'Déployer LS4YOU sur 3 territoires',
                            'Accompagner 40 jeunes en Service Civique',
                            'Créer 5 projets collectifs jeunes',
                        ],
                    },
                },
                {
                    id: 'mam',
                    name: 'MAM',
                    role: 'Référente Labellisation & Accompagnement Terrain',
                    team: 'Pilotage & Coordination',
                    cej: false,
                    tier: undefined,
                    focus: undefined,
                    details: {
                        etp: '100%',
                        projets: 'Tous projets (appui transversal)',
                        missionsPrincipales: [
                            'Articulation actions pôle / accompagnement droit commun',
                            'Qualité et labellisation des pratiques',
                            'Soutien terrain aux référents',
                        ],
                        missionsSecondaires: [
                            'Création référentiel de compétences',
                            'Formation équipes terrain',
                            'Remontée besoins conseillers',
                        ],
                        activitesConcretes: [
                            'Intégration outils pôle dans parcours CEJ/PACEA',
                            'Co-création référentiel de compétences',
                            'Animation webinaires formation',
                            'Accompagnement prescription conseillers',
                        ],
                        outils: [
                            'Référentiel de compétences MCCTI',
                            'Outils prescription conseillers',
                            'Grilles qualité actions',
                        ],
                        modalites: [
                            'Appui conseil aux équipes',
                            'Animation formations',
                            'Suivi qualité à distance',
                        ],
                        partenaires: [
                            'Conseillers Mission Locale',
                            'Équipes accompagnement',
                            'Responsables antennes',
                        ],
                        objectifs: [
                            'Finaliser référentiel de compétences',
                            'Former 80% des conseillers aux outils pôle',
                            'Atteindre 85% satisfaction qualité',
                        ],
                    },
                },
                {
                    id: 'goizeder',
                    name: 'Goizeder',
                    role: 'Conseillère Mobilités 360°',
                    team: 'Spécialistes Mobilité',
                    cej: false,
                    details: {
                        etp: '60%',
                        projets: 'TAKE OFF PRO (accompagnement), mobilité internationale (conseil)',
                        missionsPrincipales: [
                            'Ingénierie parcours mobilité',
                            'Accompagnement mobilité internationale',
                            'Conseil situations complexes',
                        ],
                        missionsSecondaires: [
                            'Contribution outils mobilité',
                            'Formation équipes',
                            'Expertise parcours progressifs',
                        ],
                        activitesConcretes: [
                            'TAKE OFF PRO : Entretiens individuels, préparation départs',
                            'Mobilité : Construction parcours, suivi retours',
                            'Outils : Mise à jour Book Mobilité, parcours types',
                        ],
                        outils: [
                            'Book Mobilité',
                            'Outils diagnostic mobilité',
                            'Référentiels mobilité européenne',
                        ],
                        modalites: [
                            'Accompagnement individuel',
                            'Conseil équipes',
                            'Animation collective',
                        ],
                        partenaires: [
                            'Organismes mobilité internationale',
                            'Conseillers Mission Locale',
                            'Structures d\'accueil européennes',
                        ],
                        objectifs: [
                            'Accompagner 40 mobilités internationales',
                            'Former 25 conseillers mobilité',
                            'Créer 10 parcours types',
                        ],
                    },
                },
                {
                    id: 'jeanPierreTordo',
                    name: 'Jean-Pierre Tordo',
                    role: 'Référent Mobilités Solidaires & Inclusives',
                    team: 'Référents',
                    cej: false,
                    tier: 'BAB Nord/Sud',
                    focus: 'Mobilité Territoire & Partenariat Mobilité Inclusive et Solidaire, Roole',
                    details: {
                        etp: '25%',
                        projets: 'Mobilité territoriale (expertise), ateliers mobilité (animation)',
                        missionsPrincipales: [
                            'Facilitation accès mobilité jeunes en difficulté',
                            'Expertise technique mobilité',
                            'Partenariats solidaires',
                        ],
                        missionsSecondaires: [
                            'Formation code/permis',
                            'Solutions individuelles',
                            'Accompagnement handicap',
                        ],
                        activitesConcretes: [
                            'Mobilité territoriale : Expertise permis, entretien véhicules',
                            'Ateliers : Co-animation aspects techniques',
                            'Solidaire : Garage solidaire, micro-crédit',
                        ],
                        outils: [
                            'Outils diagnostic mobilité',
                            'Partenariats auto-écoles',
                            'Dispositifs aide mobilité',
                        ],
                        modalites: [
                            'Expertise conseil ponctuelle',
                            'Animation ateliers techniques',
                            'Accompagnement individuel spécialisé',
                        ],
                        partenaires: [
                            'Auto-écoles sociales',
                            'Garages solidaires',
                            'Structures handicap',
                        ],
                        objectifs: [
                            'Accompagner 30 jeunes solutions mobilité',
                            'Animer 12 ateliers techniques',
                            'Développer 2 partenariats solidaires',
                        ],
                    },
                },
                {
                    id: 'sc1',
                    name: 'SC1',
                    role: 'Appui Autonomie & Engagement',
                    team: 'Volontaires Service Civique',
                    cej: false,
                    details: {
                        mission: 'Faciliter déploiement actions mobilité et citoyenneté',
                        activites: [
                            'Préparation sessions, gestion inscriptions',
                            'Co-animation brise-glaces',
                            'Appui logistique ateliers',
                            'Suivi présences',
                        ],
                        relaisSoutenus: 'Cathy, Julie, Pauline, Alain',
                        objectifs: 'Soutenir 50 ateliers, 200 jeunes',
                    },
                },
                {
                    id: 'sc2',
                    name: 'SC2',
                    role: 'Communication & Médias',
                    team: 'Volontaires Service Civique',
                    cej: false,
                    details: {
                        mission: 'Valoriser actions jeunes, créer contenus engageants',
                        activites: [
                            'Création visuels réseaux sociaux',
                            'Interviews vidéo jeunes',
                            'Tournage/montage capsules',
                            'Couverture événements',
                        ],
                        relaisSoutenus: 'Lucile, Mathieu',
                        objectifs: '100 contenus créés, 50 témoignages',
                    },
                },
                {
                    id: 'sc3',
                    name: 'SC3',
                    role: 'Innovation & Digitalisation',
                    team: 'Volontaires Service Civique',
                    cej: false,
                    details: {
                        mission: 'Appuyer transition numérique pôle',
                        activites: [
                            'Tests plateforme ROAMING',
                            'Guides tutoriels conseillers',
                            'Enrichissement SharePoint',
                            'Mise en forme modules e-learning',
                        ],
                        relaisSoutenus: 'Mathieu, Maïwenn, Mélissa',
                        objectifs: '20 tutoriels, 100% outils testés',
                    },
                },
                {
                    id: 'sc4',
                    name: 'SC4',
                    role: 'Coopération Transfrontalière',
                    team: 'Volontaires Service Civique',
                    cej: false,
                    details: {
                        mission: 'Soutien opérationnel projets transfrontaliers',
                        activites: [
                            'Logistique visites chantier',
                            'Appui traductions simples',
                            'Préparation temps collectifs',
                            'Cartographies acteurs',
                        ],
                        relaisSoutenus: 'Zigor',
                        objectifs: 'Soutenir les projets transfrontaliers',
                    },
                },
                // Référents avec tiers et focus
                {
                    id: 'cathy',
                    name: 'Cathy',
                    role: 'Référente Sud Pays Basque',
                    team: 'Référents',
                    cej: false,
                    tier: 'SUD PB',
                    focus: 'Mobilité Territoire & Transfrontalier, Je me déplace',
                    details: {
                        etp: '10%',
                        projets: 'Mobilité territoriale (animation), TAKE OFF PRO (relais), BASERRIBERRI (appui)',
                        missionsPrincipales: [
                            'Animation territoire Sud Pays Basque',
                            'Ateliers mobilité locale',
                            'Relais information projets',
                        ],
                        missionsSecondaires: [
                            'Partenariats locaux mobilité',
                            'Accompagnement projets jeunes',
                            'Diffusion outils pôle',
                        ],
                        activitesConcretes: [
                            'Mobilité territoriale : 4-6 ateliers "Je me déplace"/an',
                            'TAKE OFF PRO : Information, orientation jeunes',
                            'BASERRIBERRI : Appui logistique, communication locale',
                        ],
                        outils: [
                            'Kits animation ateliers',
                            'Outils diagnostic mobilité',
                            'Supports information projets',
                        ],
                        modalites: [
                            'Animation collective territoriale',
                            'Accompagnement individuel ponctuel',
                            'Relais information',
                        ],
                        partenaires: [
                            'Partenaires mobilité Sud PB',
                            'Associations locales',
                            'Structures jeunesse territoire',
                        ],
                        objectifs: [
                            'Animer 24 ateliers mobilité',
                            'Orienter 15 jeunes vers projets pôle',
                            'Maintenir 5 partenariats locaux',
                        ],
                    },
                },
                {
                    id: 'julie',
                    name: 'Julie',
                    role: 'Référente Sud Pays Basque',
                    team: 'Référents',
                    cej: false,
                    tier: 'SUD PB',
                    focus: 'Mobilité Territoriale, Internationale & Citoyenneté, Je me déplace, Take Off Pro',
                    details: {
                        etp: '10%',
                        projets: 'Mobilité territoriale (animation), TAKE OFF PRO (relais), BASERRIBERRI (appui)',
                        missionsPrincipales: [
                            'Animation territoire Sud Pays Basque',
                            'Ateliers mobilité locale',
                            'Relais information projets',
                        ],
                        missionsSecondaires: [
                            'Partenariats locaux mobilité',
                            'Accompagnement projets jeunes',
                            'Diffusion outils pôle',
                        ],
                        activitesConcretes: [
                            'Mobilité territoriale : 4-6 ateliers "Je me déplace"/an',
                            'TAKE OFF PRO : Information, orientation jeunes',
                            'BASERRIBERRI : Appui logistique, communication locale',
                        ],
                        outils: [
                            'Kits animation ateliers',
                            'Outils diagnostic mobilité',
                            'Supports information projets',
                        ],
                        modalites: [
                            'Animation collective territoriale',
                            'Accompagnement individuel ponctuel',
                            'Relais information',
                        ],
                        partenaires: [
                            'Partenaires mobilité Sud PB',
                            'Associations locales',
                            'Structures jeunesse territoire',
                        ],
                        objectifs: [
                            'Animer 24 ateliers mobilité',
                            'Orienter 15 jeunes vers projets pôle',
                            'Maintenir 5 partenariats locaux',
                        ],
                    },
                },
                {
                    id: 'bea',
                    name: 'Béa',
                    role: 'Référente Transfrontalière',
                    team: 'Référents',
                    cej: false,
                    tier: 'SUD PB',
                    focus: 'Transfrontalier & International, Lanean, Take Off Pro',
                    details: {
                        etp: '10%',
                        projets: 'LANEAN (spécialisations), TAKE OFF PRO (accompagnement)',
                        missionsPrincipales: [
                            'Accompagnement transfrontalier spécialisé',
                            'Expertise emploi/formation Espagne',
                            'Mobilité internationale',
                        ],
                        missionsSecondaires: [
                            'Développement réseau employeurs',
                            'Accompagnement VAE',
                            'Préparation interculturelle',
                        ],
                        activitesConcretes: [
                            'LANEAN : Béa (emploi) - matching, réseau employeurs / Isa (formation) - VAE, système formation',
                            'TAKE OFF PRO : Entretiens, préparation départs',
                            'Transfrontalier : Ateliers marché travail/formation espagnol',
                        ],
                        outils: [
                            'Outils matching LANEAN',
                            'Supports formation espagnole',
                            'Référentiels mobilité européenne',
                        ],
                        modalites: [
                            'Accompagnement individuel spécialisé',
                            'Animation ateliers thématiques',
                            'Expertise conseil',
                        ],
                        partenaires: [
                            'Employeurs Gipuzkoa',
                            'Organismes formation espagnols',
                            'Structures VAE',
                        ],
                        objectifs: [
                            'Accompagner 25 parcours transfrontaliers',
                            'Développer 10 partenaires employeurs',
                            'Animer 12 ateliers spécialisés',
                        ],
                    },
                },
                {
                    id: 'isa',
                    name: 'Isa',
                    role: 'Référente Transfrontalière',
                    team: 'Référents',
                    cej: false,
                    tier: 'SUD PB',
                    focus: 'Territorial, Internationale, Transfrontalier, Lanean, Take Off Pro',
                    details: {
                        etp: '10%',
                        projets: 'LANEAN (spécialisations), TAKE OFF PRO (accompagnement)',
                        missionsPrincipales: [
                            'Accompagnement transfrontalier spécialisé',
                            'Expertise emploi/formation Espagne',
                            'Mobilité internationale',
                        ],
                        missionsSecondaires: [
                            'Développement réseau employeurs',
                            'Accompagnement VAE',
                            'Préparation interculturelle',
                        ],
                        activitesConcretes: [
                            'LANEAN : Béa (emploi) - matching, réseau employeurs / Isa (formation) - VAE, système formation',
                            'TAKE OFF PRO : Entretiens, préparation départs',
                            'Transfrontalier : Ateliers marché travail/formation espagnol',
                        ],
                        outils: [
                            'Outils matching LANEAN',
                            'Supports formation espagnole',
                            'Référentiels mobilité européenne',
                        ],
                        modalites: [
                            'Accompagnement individuel spécialisé',
                            'Animation ateliers thématiques',
                            'Expertise conseil',
                        ],
                        partenaires: [
                            'Employeurs Gipuzkoa',
                            'Organismes formation espagnols',
                            'Structures VAE',
                        ],
                        objectifs: [
                            'Accompagner 25 parcours transfrontaliers',
                            'Développer 10 partenaires employeurs',
                            'Animer 12 ateliers spécialisés',
                        ],
                    },
                },
                {
                    id: 'zigor',
                    name: 'Zigor',
                    role: 'Coordinateur Transfrontalier',
                    team: 'Référents',
                    cej: false,
                    tier: 'SUD PB',
                    focus: 'Territorial, International & Référent Leader Transfrontalier, Baserriberri, Lanean',
                    details: {
                        etp: '40%',
                        projets: 'BASERRIBERRI (coordination), LANEAN (appui technique)',
                        missionsPrincipales: [
                            'Pilotage projets transfrontaliers',
                            'Coordination avec partenaires espagnols',
                            'Expertise technique chantiers',
                        ],
                        missionsSecondaires: [
                            'Documentation techniques réplicables',
                            'Formation équipes transfrontalières',
                            'Suivi administratif projets',
                        ],
                        activitesConcretes: [
                            'BASERRIBERRI : Comité pilotage, suivi technique chantier',
                            'LANEAN : Groupes travail outils transfrontaliers',
                            'Transversal : Interlocuteur artisans Hegoalde, capitalisation',
                        ],
                        outils: [
                            'Outils gestion projet transfrontalier',
                            'Référentiels techniques métiers',
                            'Supports bilingues',
                        ],
                        modalites: [
                            'Coordination projet bilingue',
                            'Suivi technique terrain',
                            'Animation partenariats',
                        ],
                        partenaires: [
                            'Partenaires espagnols Hegoalde',
                            'Artisans locaux',
                            'Institutions transfrontalières',
                        ],
                        objectifs: [
                            'Finaliser chantier BASERRIBERRI',
                            'Former 20 jeunes aux métiers du bâtiment',
                            'Développer 3 nouveaux partenariats espagnols',
                        ],
                    },
                },
                {
                    id: 'lucile',
                    name: 'Lucile',
                    role: 'Communication & Projets Transfrontaliers',
                    team: 'Référents',
                    cej: false,
                    tier: 'SUD PB',
                    focus: 'Communication & Digital (Tous Projets), COM',
                    details: {
                        etp: '100%',
                        projets: 'LANEAN (communication), BASERRIBERRI (valorisation)',
                        missionsPrincipales: [
                            'Valorisation actions du pôle',
                            'Communication projets transfrontaliers',
                            'Création contenus multimédias',
                        ],
                        missionsSecondaires: [
                            'Animation réseaux sociaux',
                            'Coordination avec SC2',
                            'Relations presse',
                        ],
                        activitesConcretes: [
                            'LANEAN : Communication spécifique projet',
                            'BASERRIBERRI : Valorisation chantier, témoignages',
                            'Transversal : Articles, interviews, supports visuels',
                        ],
                        outils: [
                            'Outils création graphique',
                            'Plateforme réseaux sociaux',
                            'Charte graphique projets',
                        ],
                        modalites: [
                            'Création contenus à distance',
                            'Reportages terrain',
                            'Animation communautés digitales',
                        ],
                        partenaires: [
                            'Médias locaux',
                            'Partenaires communication',
                            'Structures jeunesse',
                        ],
                        objectifs: [
                            'Produire 50 contenus valorisation',
                            'Augmenter 30% visibilité réseaux sociaux',
                            'Couvrir 100% événements projets',
                        ],
                    },
                },
                {
                    id: 'pauline',
                    name: 'Pauline',
                    role: 'Référente BAB Nord',
                    team: 'Référents',
                    cej: false,
                    tier: 'BAB Nord/Sud',
                    focus: 'Projets Européens, Outillage Citoyenneté & Mobilités, LS4YOU',
                    details: {
                        etp: '10%',
                        projets: 'LS4YOU (déploiement), TAKE OFF PRO (animation), ROAMING (tests)',
                        missionsPrincipales: [
                            'Déploiement compétences de vie BAB',
                            'Animation projets européens',
                            'Dynamiques engagement local',
                        ],
                        missionsSecondaires: [
                            'Tests outils innovants',
                            'Accompagnement collectifs',
                            'Veille bonnes pratiques',
                        ],
                        activitesConcretes: [
                            'LS4YOU : Animation ateliers, formation formateurs',
                            'TAKE OFF PRO : Information collective, accompagnement',
                            'ROAMING : Focus groupes, tests utilisateurs',
                        ],
                        outils: [
                            'Boîte à outils LS4YOU',
                            'Supports mobilité internationale',
                            'Outils tests ROAMING',
                        ],
                        modalites: [
                            'Animation territoriale BAB',
                            'Accompagnement collectif',
                            'Participation tests innovation',
                        ],
                        partenaires: [
                            'Équipes BAB',
                            'Structures jeunesse BAB',
                            'Partenaires européens',
                        ],
                        objectifs: [
                            'Déployer LS4YOU (100 jeunes chacune)',
                            'Accompagner 20 mobilités européennes',
                            'Tester 5 outils innovants',
                        ],
                    },
                },
                {
                    id: 'maiwenn',
                    name: 'Maïwenn',
                    role: 'Référente BAB Sud',
                    team: 'Référents',
                    cej: false,
                    tier: 'BAB Nord/Sud',
                    focus: 'Outillage Citoyennetés & Mobilités, LS4YOU',
                    details: {
                        etp: '100%',
                        projets: 'LS4YOU (déploiement), ROAMING (tests), projets européens (appui)',
                        missionsPrincipales: [
                            'Déploiement LS4YOU territoire BAB',
                            'Animation plateforme numérique',
                            'Appui événementiel européen',
                        ],
                        missionsSecondaires: [
                            'Création supports pédagogiques',
                            'Formation animateurs',
                            'Suivi fiches et modules',
                        ],
                        activitesConcretes: [
                            'LS4YOU : Adaptation ateliers, formation formateurs',
                            'ROAMING : Tests outils, focus groupes',
                            'Européens : Logistique événements, accueil partenaires',
                        ],
                        outils: [
                            'Plateforme LS4YOU',
                            'Outils numériques ROAMING',
                            'Référentiels européens',
                        ],
                        modalites: [
                            'Animation territoriale BAB',
                            'Formation présentiel/distanciel',
                            'Coordination événementielle',
                        ],
                        partenaires: [
                            'Équipes BAB',
                            'Partenaires européens',
                            'Structures formation',
                        ],
                        objectifs: [
                            'Déployer LS4YOU sur BAB (200 jeunes)',
                            'Tester 100% outils ROAMING',
                            'Organiser 4 événements européens',
                        ],
                    },
                },
                {
                    id: 'melissa',
                    name: 'Mélissa',
                    role: 'Référente BAB Sud',
                    team: 'Référents',
                    cej: false,
                    tier: 'BAB Nord/Sud',
                    focus: 'Mobilité Territoriale & Internationale, Take Off Pro, Je me déplace',
                    details: {
                        etp: '10%',
                        projets: 'LS4YOU (déploiement), TAKE OFF PRO (animation), ROAMING (tests)',
                        missionsPrincipales: [
                            'Déploiement compétences de vie BAB',
                            'Animation projets européens',
                            'Dynamiques engagement local',
                        ],
                        missionsSecondaires: [
                            'Tests outils innovants',
                            'Accompagnement collectifs',
                            'Veille bonnes pratiques',
                        ],
                        activitesConcretes: [
                            'LS4YOU : Animation ateliers, formation formateurs',
                            'TAKE OFF PRO : Information collective, accompagnement',
                            'ROAMING : Focus groupes, tests utilisateurs',
                        ],
                        outils: [
                            'Boîte à outils LS4YOU',
                            'Supports mobilité internationale',
                            'Outils tests ROAMING',
                        ],
                        modalites: [
                            'Animation territoriale BAB',
                            'Accompagnement collectif',
                            'Participation tests innovation',
                        ],
                        partenaires: [
                            'Équipes BAB',
                            'Structures jeunesse BAB',
                            'Partenaires européens',
                        ],
                        objectifs: [
                            'Déployer LS4YOU (100 jeunes chacune)',
                            'Accompagner 20 mobilités européennes',
                            'Tester 5 outils innovants',
                        ],
                    },
                },
            ],
            projects: [
                {
                    id: 'roaming',
                    name: 'ROAMING',
                    details: {
                        description: 'Professionnalisation des conseillers mobilités',
                        actions: [
                            'Développement d\'outils VR et badges de compétences',
                            'Création de plateforme nationale de formation',
                            'Formation des équipes aux nouveaux outils',
                        ],
                    },
                },
                {
                    id: 'baserriberri',
                    name: 'BASERRIBERRI',
                    details: {
                        description: 'Chantier formation transfrontalier',
                        actions: [
                            'Coopération avec les partenaires espagnols',
                            'Formation aux métiers du bâtiment',
                            'Expérience immersive transfrontalière',
                        ],
                    },
                },
                {
                    id: 'lanean',
                    name: 'LANEAN',
                    details: {
                        description: 'Accompagnement transfrontalier vers l\'emploi',
                        actions: [
                            'Matching emploi/formation en Espagne',
                            'Développement réseau employeurs Gipuzkoa',
                            'Accompagnement VAE transfrontalière',
                        ],
                    },
                },
                {
                    id: 'ls4you',
                    name: 'LS4YOU',
                    details: {
                        description: 'Appropriation des compétences de vie (Life Skills)',
                        actions: [
                            'Développement compétences psychosociales',
                            'Modules e-learning adaptatifs',
                            'Formation de formateurs',
                        ],
                    },
                },
                {
                    id: 'takeOffPro',
                    name: 'TAKE OFF PRO',
                    details: {
                        description: 'Engagement citoyen, accompagnement individualisé',
                        actions: [
                            'Mobilité internationale (60 parcours/an)',
                            'Préparation interculturelle',
                            'Valorisation Youthpass',
                        ],
                    },
                },
            ],
            externalConnections: [
                {
                    id: 'equipeCej',
                    name: 'Équipe dédiée CEJ',
                    description: 'Cette équipe est en lien avec le service pour le déploiement d\'activités jeunes et des projets du pôle (visites Baserriberri, ateliers Life Skills, promotion mobilités Take Off, ateliers PIX, je me déplace...).',
                    linkedPersonnelIds: ['alain', 'mam', 'cathy', 'julie', 'pauline', 'melissa', 'maiwenn', 'bea', 'isa'],
                },
                {
                    id: 'conseillersGeneralistes',
                    name: 'Équipe de Conseillers Généralistes',
                    description: 'En lien d\'un point de vue outillage de l\'accompagnement (échange de pratiques, guide Life Skills, formation mobilités, éco-responsabilité, transition sociale...).',
                },
                {
                    id: 'servicesEmploiFormation',
                    name: 'Services Emploi & Formation',
                    description: 'En lien sur tout ce qui va concerner l\'acquisition de soft skills et life skills par la mobilité internationale et l\'engagement citoyen.',
                },
                {
                    id: 'unmlArml',
                    name: 'UNML & ARML',
                    description: 'Partenaires clés pour l\'outillage digital et la mobilité internationale.',
                },
            ],
        };

        // Map des couleurs pour les tiers
        const tierColors = {
            'SUD PB': 'bg-red-100 border-red-300',
            'BAB Nord/Sud': 'bg-green-100 border-green-300',
        };

        // Composant pour une carte de personne
        const PersonCard = ({ person, onClick, isSelected }) => (
            React.createElement('div', {
                className: `bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer flex flex-col items-center text-center relative border
                    ${isSelected ? 'ring-4 ring-blue-500' : ''}
                    ${person.tier ? tierColors[person.tier] : 'border-gray-200'}
                `,
                onClick: () => onClick(person.id, 'person')
            }, [
                React.createElement('div', { 
                    key: 'name',
                    className: "text-xl font-semibold text-gray-800" 
                }, person.name),
                React.createElement('div', { 
                    key: 'role',
                    className: "text-sm text-gray-600" 
                }, person.role),
                person.focus && React.createElement('div', { 
                    key: 'focus',
                    className: "text-xs text-gray-500 mt-1 italic" 
                }, `(${person.focus})`),
                React.createElement('div', { 
                    key: 'team',
                    className: "text-xs text-gray-500 mt-1" 
                }, person.team)
            ])
        );

        // Composant pour une carte de projet
        const ProjectCard = ({ project, onClick, isSelected }) => (
            React.createElement('div', {
                className: `bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer flex flex-col items-center text-center border border-gray-200
                    ${isSelected ? 'ring-4 ring-blue-500' : ''}
                `,
                onClick: () => onClick(project.id, 'project')
            }, [
                React.createElement('div', { 
                    key: 'name',
                    className: "text-xl font-semibold text-gray-800" 
                }, project.name),
                React.createElement('div', { 
                    key: 'description',
                    className: "text-sm text-gray-600 mt-1" 
                }, project.details.description)
            ])
        );

        // Composant pour une carte de connexion externe
        const ExternalConnectionCard = ({ connection, onClick, isSelected }) => (
            React.createElement('div', {
                className: `bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer flex flex-col items-center text-center border border-gray-200
                    ${isSelected ? 'ring-4 ring-blue-500' : ''}
                `,
                onClick: () => onClick(connection.id, 'external')
            }, [
                React.createElement('div', { 
                    key: 'name',
                    className: "text-xl font-semibold text-gray-800" 
                }, connection.name),
                React.createElement('div', { 
                    key: 'description',
                    className: "text-sm text-gray-600 mt-1" 
                }, connection.description)
            ])
        );

        // Composant pour le panneau de détails
        const DetailPanel = ({ selectedId, selectedType, onClose, data }) => {
            const [summary, setSummary] = useState('');
            const [brainstorming, setBrainstorming] = useState('');
            const [isLoadingSummary, setIsLoadingSummary] = useState(false);
            const [isLoadingBrainstorming, setIsLoadingBrainstorming] = useState(false);
            const [errorSummary, setErrorSummary] = useState('');
            const [errorBrainstorming, setErrorBrainstorming] = useState('');

            const item = selectedType === 'person'
                ? data.personnel.find((p) => p.id === selectedId)
                : selectedType === 'project'
                ? data.projects.find((p) => p.id === selectedId)
                : data.externalConnections.find((p) => p.id === selectedId);

            // Réinitialiser les états quand l'élément sélectionné change
            useEffect(() => {
                setSummary('');
                setBrainstorming('');
                setErrorSummary('');
                setErrorBrainstorming('');
            }, [selectedId, selectedType]);

            const handleSummarizeMission = async () => {
                if (!item || !item.details || !item.details.missionsPrincipales) return;

                setIsLoadingSummary(true);
                setErrorSummary('');
                setSummary('');

                const prompt = `Résumez la mission et les activités principales de cette personne en français, en quelques phrases concises. Voici les détails: Missions principales: ${item.details.missionsPrincipales.join(', ')}. Activités concrètes: ${item.details.activitesConcretes ? item.details.activitesConcretes.join(', ') : ''}`;

                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; // La clé API sera fournie par l'environnement
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                try {
                    const response = await exponentialBackoffFetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        setSummary(text);
                    } else {
                        setErrorSummary("Impossible de générer le résumé. Structure de réponse inattendue.");
                    }
                } catch (error) {
                    console.error("Erreur lors de la génération du résumé:", error);
                    setErrorSummary(`Erreur: ${error.message || "Échec de la récupération du résumé."}`);
                } finally {
                    setIsLoadingSummary(false);
                }
            };

            const handleBrainstormProject = async () => {
                if (!item || !item.details) return;

                setIsLoadingBrainstorming(true);
                setErrorBrainstorming('');
                setBrainstorming('');

                const prompt = `En tant qu'expert en innovation de projet, proposez 3-5 idées d'actions ou d'améliorations supplémentaires pour le projet suivant, en vous basant sur sa description et ses actions actuelles. Soyez créatif et concis. Projet: ${item.name}, Description: ${item.details.description}. Actions actuelles: ${item.details.actions ? item.details.actions.join(', ') : ''}`;

                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; // La clé API sera fournie par l'environnement
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                try {
                    const response = await exponentialBackoffFetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        setBrainstorming(text);
                    } else {
                        setErrorBrainstorming("Impossible de générer les idées. Structure de réponse inattendue.");
                    }
                } catch (error) {
                    console.error("Erreur lors de la génération d'idées:", error);
                    setErrorBrainstorming(`Erreur: ${error.message || "Échec de la récupération des idées."}`);
                } finally {
                    setIsLoadingBrainstorming(false);
                }
            };

            if (!item) return null;

            return React.createElement('div', {
                className: "fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50"
            }, 
                React.createElement('div', {
                    className: "bg-white rounded-lg shadow-xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto relative"
                }, [
                    // Bouton fermer
                    React.createElement('button', {
                        key: 'close-btn',
                        onClick: onClose,
                        className: "absolute top-3 right-3 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors duration-200"
                    },
                        React.createElement('svg', {
                            xmlns: "http://www.w3.org/2000/svg",
                            className: "h-6 w-6",
                            fill: "none",
                            viewBox: "0 0 24 24",
                            stroke: "currentColor"
                        },
                            React.createElement('path', {
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                strokeWidth: 2,
                                d: "M6 18L18 6M6 6l12 12"
                            })
                        )
                    ),

                    // Contenu conditionnel selon le type
                    selectedType === 'person' ? [
                        React.createElement('h2', { 
                            key: 'person-name',
                            className: "text-3xl font-bold text-blue-700 mb-2" 
                        }, item.name),
                        React.createElement('h3', { 
                            key: 'person-role',
                            className: "text-xl font-semibold text-gray-700 mb-4" 
                        }, item.role),
                        item.focus && React.createElement('p', { 
                            key: 'person-focus',
                            className: "text-md text-gray-600 mb-4 italic" 
                        }, `Focus: ${item.focus}`),

                        // Grille des détails
                        React.createElement('div', {
                            key: 'person-details',
                            className: "grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-800"
                        }, [
                            item.details.etp && React.createElement('div', { key: 'etp' }, [
                                React.createElement('h4', { 
                                    key: 'etp-title',
                                    className: "font-bold text-lg text-blue-600" 
                                }, "ETP :"),
                                React.createElement('p', { key: 'etp-content' }, item.details.etp)
                            ]),
                            item.details.projets && React.createElement('div', { key: 'projets' }, [
                                React.createElement('h4', { 
                                    key: 'projets-title',
                                    className: "font-bold text-lg text-blue-600" 
                                }, "Projets associés :"),
                                React.createElement('p', { key: 'projets-content' }, item.details.projets)
                            ]),
                            item.details.missionsPrincipales && React.createElement('div', { key: 'missions-main' }, [
                                React.createElement('h4', { 
                                    key: 'missions-main-title',
                                    className: "font-bold text-lg text-blue-600" 
                                }, "Missions principales :"),
                                React.createElement('ul', { 
                                    key: 'missions-main-list',
                                    className: "list-disc list-inside" 
                                }, item.details.missionsPrincipales.map((m, i) => 
                                    React.createElement('li', { key: i }, m)
                                ))
                            ]),
                            item.details.missionsSecondaires && React.createElement('div', { key: 'missions-sec' }, [
                                React.createElement('h4', { 
                                    key: 'missions-sec-title',
                                    className: "font-bold text-lg text-blue-600" 
                                }, "Missions secondaires :"),
                                React.createElement('ul', { 
                                    key: 'missions-sec-list',
                                    className: "list-disc list-inside" 
                                }, item.details.missionsSecondaires.map((m, i) => 
                                    React.createElement('li', { key: i }, m)
                                ))
                            ]),
                            item.details.activitesConcretes && React.createElement('div', { key: 'activites' }, [
                                React.createElement('h4', { 
                                    key: 'activites-title',
                                    className: "font-bold text-lg text-blue-600" 
                                }, "Activités concrètes :"),
                                React.createElement('ul', { 
                                    key: 'activites-list',
                                    className: "list-disc list-inside" 
                                }, item.details.activitesConcretes.map((a, i) => 
                                    React.createElement('li', { key: i }, a)
                                ))
                            ]),
                            item.details.outils && React.createElement('div', { key: 'outils' }, [
                                React.createElement('h4', { 
                                    key: 'outils-title',
                                    className: "font-bold text-lg text-blue-600" 
                                }, "Outils et référentiels :"),
                                React.createElement('ul', { 
                                    key: 'outils-list',
                                    className: "list-disc list-inside" 
                                }, item.details.outils.map((o, i) => 
                                    React.createElement('li', { key: i }, o)
                                ))
                            ]),
                            item.details.modalites && React.createElement('div', { key: 'modalites' }, [
                                React.createElement('h4', { 
                                    key: 'modalites-title',
                                    className: "font-bold text-lg text-blue-600" 
                                }, "Modalités d'intervention :"),
                                React.createElement('ul', { 
                                    key: 'modalites-list',
                                    className: "list-disc list-inside" 
                                }, item.details.modalites.map((m, i) => 
                                    React.createElement('li', { key: i }, m)
                                ))
                            ]),
                            item.details.partenaires && React.createElement('div', { key: 'partenaires' }, [
                                React.createElement('h4', { 
                                    key: 'partenaires-title',
                                    className: "font-bold text-lg text-blue-600" 
                                }, "Partenaires clés :"),
                                React.createElement('ul', { 
                                    key: 'partenaires-list',
                                    className: "list-disc list-inside" 
                                }, item.details.partenaires.map((p, i) => 
                                    React.createElement('li', { key: i }, p)
                                ))
                            ]),
                            item.details.objectifs && React.createElement('div', { key: 'objectifs' }, [
                                React.createElement('h4', { 
                                    key: 'objectifs-title',
                                    className: "font-bold text-lg text-blue-600" 
                                }, "Objectifs opérationnels 2025 :"),
                                React.createElement('ul', { 
                                    key: 'objectifs-list',
                                    className: "list-disc list-inside" 
                                }, item.details.objectifs.map((o, i) => 
                                    React.createElement('li', { key: i }, o)
                                ))
                            ]),
                            item.details.mission && React.createElement('div', { key: 'mission-sc' }, [
                                React.createElement('h4', { 
                                    key: 'mission-sc-title',
                                    className: "font-bold text-lg text-blue-600" 
                                }, "Mission :"),
                                React.createElement('p', { key: 'mission-sc-content' }, item.details.mission)
                            ]),
                            item.details.relaisSoutenus && React.createElement('div', { key: 'relais' }, [
                                React.createElement('h4', { 
                                    key: 'relais-title',
                                    className: "font-bold text-lg text-blue-600" 
                                }, "Relais soutenus :"),
                                React.createElement('p', { key: 'relais-content' }, item.details.relaisSoutenus)
                            ]),
                        ].filter(Boolean)),

                        // Section IA pour personnes
                        React.createElement('div', {
                            key: 'ai-section-person',
                            className: "mt-6 pt-4 border-t border-gray-200"
                        }, [
                            React.createElement('button', {
                                key: 'summary-btn',
                                onClick: handleSummarizeMission,
                                className: "bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",
                                disabled: isLoadingSummary
                            }, isLoadingSummary ? 'Génération...' : 'Résumer la mission ✨'),
                            errorSummary && React.createElement('p', { 
                                key: 'error-summary',
                                className: "text-red-500 text-sm mt-2" 
                            }, errorSummary),
                            summary && React.createElement('div', {
                                key: 'summary-result',
                                className: "mt-4 p-3 bg-blue-50 rounded-md border border-blue-200"
                            }, [
                                React.createElement('h4', { 
                                    key: 'summary-title',
                                    className: "font-bold text-blue-700" 
                                }, "Résumé de la mission :"),
                                React.createElement('p', { 
                                    key: 'summary-text',
                                    className: "text-gray-800 whitespace-pre-wrap" 
                                }, summary)
                            ])
                        ])
                    ] : selectedType === 'project' ? [
                        React.createElement('h2', { 
                            key: 'project-name',
                            className: "text-3xl font-bold text-blue-700 mb-2" 
                        }, item.name),
                        React.createElement('h3', { 
                            key: 'project-desc',
                            className: "text-xl font-semibold text-gray-700 mb-4" 
                        }, item.details.description),
                        item.details.actions && React.createElement('div', { key: 'project-actions' }, [
                            React.createElement('h4', { 
                                key: 'actions-title',
                                className: "font-bold text-lg text-blue-600" 
                            }, "Actions :"),
                            React.createElement('ul', { 
                                key: 'actions-list',
                                className: "list-disc list-inside" 
                            }, item.details.actions.map((a, i) => 
                                React.createElement('li', { key: i }, a)
                            ))
                        ]),

                        // Section IA pour projets
                        React.createElement('div', {
                            key: 'ai-section-project',
                            className: "mt-6 pt-4 border-t border-gray-200"
                        }, [
                            React.createElement('button', {
                                key: 'brainstorm-btn',
                                onClick: handleBrainstormProject,
                                className: "bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",
                                disabled: isLoadingBrainstorming
                            }, isLoadingBrainstorming ? 'Génération...' : 'Idées supplémentaires ✨'),
                            errorBrainstorming && React.createElement('p', { 
                                key: 'error-brainstorm',
                                className: "text-red-500 text-sm mt-2" 
                            }, errorBrainstorming),
                
